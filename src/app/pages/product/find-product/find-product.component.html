<section id="column-selectors">
  <div class="invoice-create-btn mb-1">
    <a [routerLink]="['/products/create']" routerLinkActive="router-link-active" class="btn btn-primary glow invoice-create" role="button" aria-pressed="true">
      Add New</a>
  </div>
  <div class="row">
    <div class="col-12">
      <mat-card-header>

      </mat-card-header>
      <mat-card>
        <table mat-table [dataSource]="dataSource" class="table table-striped dataex-html5-selectors" matSort matSortActive="id"
               matSortDirection="asc" >
          <ng-container matColumnDef="code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Code</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.code}}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.description}}</td>
          </ng-container>
          <ng-container matColumnDef="item_count">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Item Count</th>
            <td mat-cell *matCellDef="let row">{{ row.data_item.product_items.length }}</td>
          </ng-container>
          <ng-container matColumnDef="category_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Category Name</th>
            <td mat-cell *matCellDef="let row">{{ row.data_item.category_name }}</td>
          </ng-container>
          <ng-container matColumnDef="category_code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Category Code</th>
            <td mat-cell *matCellDef="let row">{{ row.data_item.category_code }}</td>
          </ng-container>
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
            <td mat-cell *matCellDef="let row">{{row.status}}</td>
          </ng-container>
          <ng-container matColumnDef="lastModification">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Last modification</th>
            <td mat-cell *matCellDef="let row"></td>
          </ng-container>
          <ng-container matColumnDef="actions*">
            <th mat-header-cell *matHeaderCellDef>Actions</th>
            <td mat-cell *matCellDef="let row" class="actions">
              <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Context menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <a [routerLink]="['/products/',row.data_item.id]" routerLinkActive="router-link-active">
                  <button mat-menu-item>
                    <mat-icon color="primary" matTooltip="View Product">visibility</mat-icon>
                    <span>View</span>
                  </button>
                </a>
                <a [routerLink]="['/products/update',row.data_item.id]" routerLinkActive="router-link-active">
                  <button mat-menu-item>
                    <mat-icon color="primary" matTooltip="Edit Product">edit</mat-icon>
                    <span>Edit</span>
                  </button>
                </a>
              </mat-menu>
            </td>
          </ng-container>
          <ng-container matColumnDef="load-more">
            <td mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length">
              <button mat-button class="link load-more-btn" (click)="loadMoreData()" *ngIf="isShowLoadMore">
                <mat-icon color="primary">refresh</mat-icon>&nbsp;Load More Rows
              </button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          <tr mat-footer-row *matFooterRowDef="['load-more']"></tr>
        </table>
      </mat-card>
    </div>
  </div>
</section>
