<section id="column-selectors">
  <div class="invoice-create-btn mb-1">
    <swal #approvedSwal
          text="{{ approvedSwal?.text }}"
          title="{{ approvedSwal?.title }}"
          icon="{{ approvedSwal?.icon }}">

    </swal>
  </div>
  <div class="row">
    <div class="col-12">
      <mat-card-header>

      </mat-card-header>
      <mat-card>
        <table mat-table [dataSource]="dataSource" class="table table-striped dataex-html5-selectors" matSort
               matSortActive="id"
               matSortDirection="asc">
          <ng-container matColumnDef="product_code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Code</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.productCode}}</td>
          </ng-container>

          <ng-container matColumnDef="product_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.description}}</td>
          </ng-container>
          <ng-container matColumnDef="product_item_code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Item Code</th>
            <td mat-cell *matCellDef="let row">{{ row.data_item.code }}</td>
          </ng-container>
          <ng-container matColumnDef="unit_price">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Unit Price</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.unit_price}}</td>
          </ng-container>

          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Quantity</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.quantity}}</td>
          </ng-container>

          <ng-container matColumnDef="category_code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Category Code</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.category_code}}</td>
          </ng-container>

          <ng-container matColumnDef="category_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Commodity Category Name</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.category_name}}</td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Efris Flag</th>
            <td mat-cell *matCellDef="let row">{{row.data_item.efris_flag}}</td>
          </ng-container>


          <ng-container matColumnDef="created_at">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Last modification</th>
            <td mat-cell *matCellDef="let row"></td>
          </ng-container>
          <ng-container matColumnDef="actions*">
            <th mat-header-cell *matHeaderCellDef>Actions</th>
            <td mat-cell *matCellDef="let row" class="actions">
              <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Context menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="openDialog(row.data_item)">
                  <mat-icon color="primary" matTooltip="Stock Item">edit</mat-icon>
                  <span>Stock Item</span>
                </button>
                  <button mat-menu-item (click)="pushItemToEfris(row.data_item)" *ngIf="row.data_item.efris_flag === 'N'" >
                    <mat-icon color="primary" matTooltip="Push To Efris">add</mat-icon>
                    <span>Push To Efris</span>
                  </button>
              </mat-menu>
            </td>
          </ng-container>
          <ng-container matColumnDef="load-more">
            <td mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length">
              <button mat-button class="link load-more-btn" (click)="loadMoreData()" *ngIf="isShowLoadMore">
                <mat-icon color="primary">refresh</mat-icon>&nbsp;Load More Rows
              </button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          <tr mat-footer-row *matFooterRowDef="['load-more']"></tr>
        </table>
      </mat-card>
    </div>
  </div>
</section>
